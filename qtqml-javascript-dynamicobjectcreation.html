<!--?xml version="1.0" encoding="UTF-8"?-->
<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- dynamicobjectcreation.qdoc -->
  <title>Dynamic QML Object Creation from JavaScript | Qt QML 5.4</title>
  <link rel="stylesheet" type="text/css" href="qtqml-javascript-dynamicobjectcreation_files/online.css">
  <link rel="shortcut icon" href="http://d3hp9ud7yvwzy0.cloudfront.net/wp-content/themes/oneqt/images/favicon.ico.gzip">
  
<script type="text/javascript" src="qtqml-javascript-dynamicobjectcreation_files/jsapi"></script><script src="qtqml-javascript-dynamicobjectcreation_files/a_002" type="text/javascript"></script><script src="qtqml-javascript-dynamicobjectcreation_files/a.htm" type="text/javascript"></script><link rel="stylesheet" href="qtqml-javascript-dynamicobjectcreation_files/defaulten.css" type="text/css"><link rel="stylesheet" href="qtqml-javascript-dynamicobjectcreation_files/default.css" type="text/css"><style type="text/css">
.gsc-control-cse {
font-family: Arial, sans-serif;
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-control-cse .gsc-table-result {
font-family: Arial, sans-serif;
}
input.gsc-input {
border-color: #D9D9D9;
}
input.gsc-search-button {
border-color: #5CAA15;
background-color: #5CAA15;
}
.gsc-tabHeader.gsc-tabhInactive {
border-color: #E9E9E9;
background-color: #E9E9E9;
}
.gsc-tabHeader.gsc-tabhActive {
border-top-color: #5CAA15;
border-left-color: #E9E9E9;
border-right-color: #E9E9E9;
background-color: #FFFFFF;
}
.gsc-tabsArea {
border-color: #E9E9E9;
}
.gsc-webResult.gsc-result,
.gsc-results .gsc-imageResult {
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-webResult.gsc-result:hover,
.gsc-imageResult:hover {
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gsc-webResult.gsc-result.gsc-promotion:hover {
border-color: #FFFFFF;
background-color: #FFFFFF;
}
.gs-webResult.gs-result a.gs-title:link,
.gs-webResult.gs-result a.gs-title:link b,
.gs-imageResult a.gs-title:link,
.gs-imageResult a.gs-title:link b {
color: #5CAA15;
}
.gs-webResult.gs-result a.gs-title:visited,
.gs-webResult.gs-result a.gs-title:visited b,
.gs-imageResult a.gs-title:visited,
.gs-imageResult a.gs-title:visited b {
color: #46A2DA;
}
.gs-webResult.gs-result a.gs-title:hover,
.gs-webResult.gs-result a.gs-title:hover b,
.gs-imageResult a.gs-title:hover,
.gs-imageResult a.gs-title:hover b {
color: #46A2DA;
}
.gs-webResult.gs-result a.gs-title:active,
.gs-webResult.gs-result a.gs-title:active b,
.gs-imageResult a.gs-title:active,
.gs-imageResult a.gs-title:active b {
color: #5CAA15;
}
.gsc-cursor-page {
color: #5CAA15;
}
a.gsc-trailing-more-results:link {
color: #5CAA15;
}
.gs-webResult .gs-snippet,
.gs-imageResult .gs-snippet,
.gs-fileFormatType {
color: #404244;
}
.gs-webResult div.gs-visibleUrl,
.gs-imageResult div.gs-visibleUrl {
color: #5CAA15;
}
.gs-webResult div.gs-visibleUrl-short {
color: #5CAA15;
}
.gs-webResult div.gs-visibleUrl-short {
display: none;
}
.gs-webResult div.gs-visibleUrl-long {
display: block;
}
.gs-promotion div.gs-visibleUrl-short {
display: none;
}
.gs-promotion div.gs-visibleUrl-long {
display: block;
}
.gsc-cursor-box {
border-color: #FFFFFF;
}
.gsc-results .gsc-cursor-box .gsc-cursor-page {
border-color: #E9E9E9;
background-color: #FFFFFF;
color: #5CAA15;
}
.gsc-results .gsc-cursor-box .gsc-cursor-current-page {
border-color: #5CAA15;
background-color: #FFFFFF;
color: #46A2DA;
}
.gsc-webResult.gsc-result.gsc-promotion {
border-color: #404244;
background-color: #FFFFFF;
}
.gsc-completion-title {
color: #5CAA15;
}
.gsc-completion-snippet {
color: #404244;
}
.gs-promotion a.gs-title:link,
.gs-promotion a.gs-title:link *,
.gs-promotion .gs-snippet a:link {
color: #0000CC;
}
.gs-promotion a.gs-title:visited,
.gs-promotion a.gs-title:visited *,
.gs-promotion .gs-snippet a:visited {
color: #0000CC;
}
.gs-promotion a.gs-title:hover,
.gs-promotion a.gs-title:hover *,
.gs-promotion .gs-snippet a:hover {
color: #0000CC;
}
.gs-promotion a.gs-title:active,
.gs-promotion a.gs-title:active *,
.gs-promotion .gs-snippet a:active {
color: #0000CC;
}
.gs-promotion .gs-snippet,
.gs-promotion .gs-title .gs-promotion-title-right,
.gs-promotion .gs-title .gs-promotion-title-right * {
color: #000000;
}
.gs-promotion .gs-visibleUrl,
.gs-promotion .gs-visibleUrl-short {
color: #008000;
}
</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-moz-user-select:none;white-space:nowrap}.gsst_e{opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gscsep_a{display:none}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gsfe_a{border:1px solid #b9b9b9;border-top-color:#a0a0a0;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);}.gsfe_b{border:1px solid #4d90fe;outline:none;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);}.gssb_a{padding:0 7px}.gssb_e{border:0}.gssb_l{margin:5px 0}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style><link href="qtqml-javascript-dynamicobjectcreation_files/sbi.css" rel="stylesheet" type="text/css" id="sbi-style"><script src="qtqml-javascript-dynamicobjectcreation_files/a" type="text/javascript"></script><link rel="stylesheet" href="qtqml-javascript-dynamicobjectcreation_files/defaulten_002.css" type="text/css"><script src="qtqml-javascript-dynamicobjectcreation_files/defaulten.js" type="text/javascript"></script></head>
<body>

<div class="main">
<div class="main-rounded">

<div class="content">
    <div class="line">
        <div class="content mainContent">

<div class="context">
<h1 class="title">Dynamic QML Object Creation from JavaScript</h1>
<span class="subtitle"></span>
<!-- $$$qtqml-javascript-dynamicobjectcreation.html-description -->
<div class="descr"> <a name="details"></a>
<p>QML supports the dynamic creation of objects from within JavaScript. 
This is useful to delay instantiation of objects until necessary, 
thereby improving application startup time. It also allows visual 
objects to be dynamically created and added to the scene in reaction to 
user input or other events.</p>
<p>See the <a href="http://doc.qt.io/qt-5/qtqml-dynamicscene-example.html">Dynamic Scene example</a> for a demonstration of the concepts discussed on this page.</p>
<a name="creating-objects-dynamically"></a>
<h2 id="creating-objects-dynamically">Creating Objects Dynamically</h2>
<p>There are two ways to create objects dynamically from JavaScript. You can either call <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createComponent-method">Qt.createComponent()</a> to dynamically create a <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html">Component</a> object, or use <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createQmlObject-method">Qt.createQmlObject()</a>
 to create an object from a string of QML. Creating a component is 
better if you have an existing component defined in a QML document and 
you want to dynamically create instances of that component. Otherwise, 
creating an object from a string of QML is useful when the object QML 
itself is generated at runtime.</p>
<a name="creating-a-component-dynamically"></a>
<h3>Creating a Component Dynamically</h3>
<p>To dynamically load a component defined in a QML file, call the <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createComponent-method">Qt.createComponent()</a> function in the <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#qmlglobalqtobject">Qt object</a>. This function takes the URL of the QML file as its only argument and creates a <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html">Component</a> object from this URL.</p>
<p>Once you have a <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html">Component</a>, you can call its <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#createObject-method">createObject()</a> method to create an instance of the component. This function can take one or two arguments:</p>
<ul>
<li>The first is the parent for the new object. The parent can be a graphical object (i.e. of the <a href="http://doc.qt.io/qt-5/qml-qtquick-item.html">Item</a> type) or non-graphical object (i.e. of the <a href="http://doc.qt.io/qt-5/qml-qtqml-qtobject.html">QtObject</a> or C++ <a href="http://doc.qt.io/qt-5/qobject.html">QObject</a> type). Only graphical objects with graphical parent objects will be rendered to the <a href="http://doc.qt.io/qt-5/qtquick-index.html">Qt Quick</a> visual canvas. If you wish to set the parent later you can safely pass <code>null</code> to this function.</li>
<li>The second is optional and is a map of property-value pairs that 
define initial any property values for the object. Property values 
specified by this argument are applied to the object before its creation
 is finalized, avoiding binding errors that may occur if particular 
properties must be initialized to enable other property bindings. 
Additionally, there are small performance benefits when compared to 
defining property values and bindings after the object is created.</li>
</ul>
<p>Here is an example. First there is <code>Sprite.qml</code>, which defines a simple QML component:</p>
<pre class="qml">import QtQuick 2.0

<span class="type"><a href="http://doc.qt.io/qt-5/qml-qtquick-rectangle.html">Rectangle</a></span> { <span class="name">width</span>: <span class="number">80</span>; <span class="name">height</span>: <span class="number">50</span>; <span class="name">color</span>: <span class="string">"red"</span> }</pre>
<p>Our main application file, <code>main.qml</code>, imports a <code>componentCreation.js</code> JavaScript file that will create <code>Sprite</code> objects:</p>
<pre class="qml">import QtQuick 2.0
import "componentCreation.js" as MyScript

<span class="type"><a href="http://doc.qt.io/qt-5/qml-qtquick-rectangle.html">Rectangle</a></span> {
    <span class="name">id</span>: <span class="name">appWindow</span>
    <span class="name">width</span>: <span class="number">300</span>; <span class="name">height</span>: <span class="number">300</span>

    <span class="name">Component</span>.onCompleted: <span class="name">MyScript</span>.<span class="name">createSpriteObjects</span>();
}</pre>
<p>Here is <code>componentCreation.js</code>. Notice it checks whether the component <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#status-prop">status</a> is <code>Component.Ready</code> before calling <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#createObject-method">createObject()</a> in case the QML file is loaded over a network and thus is not ready immediately.</p>
<pre class="js">var <span class="name">component</span>;
var <span class="name">sprite</span>;

<span class="keyword">function</span> <span class="name">createSpriteObjects</span>() {
    <span class="name">component</span> <span class="operator">=</span> <span class="name">Qt</span>.<span class="name">createComponent</span>(<span class="string">"Sprite.qml"</span>);
    <span class="keyword">if</span> (<span class="name">component</span>.<span class="name">status</span> <span class="operator">==</span> <span class="name">Component</span>.<span class="name">Ready</span>)
        <span class="name">finishCreation</span>();
    <span class="keyword">else</span>
        <span class="name">component</span>.<span class="name">statusChanged</span>.<span class="name">connect</span>(<span class="name">finishCreation</span>);
}

<span class="keyword">function</span> <span class="name">finishCreation</span>() {
    <span class="keyword">if</span> (<span class="name">component</span>.<span class="name">status</span> <span class="operator">==</span> <span class="name">Component</span>.<span class="name">Ready</span>) {
        <span class="name">sprite</span> <span class="operator">=</span> <span class="name">component</span>.<span class="name">createObject</span>(<span class="name">appWindow</span>, {"x": <span class="number">100</span>, "y": <span class="number">100</span>});
        <span class="keyword">if</span> (<span class="name">sprite</span> <span class="operator">==</span> <span class="number">null</span>) {
            <span class="comment">// Error Handling</span>
            <span class="name">console</span>.<span class="name">log</span>(<span class="string">"Error creating object"</span>);
        }
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="name">component</span>.<span class="name">status</span> <span class="operator">==</span> <span class="name">Component</span>.<span class="name">Error</span>) {
        <span class="comment">// Error Handling</span>
        <span class="name">console</span>.<span class="name">log</span>(<span class="string">"Error loading component:"</span>, <span class="name">component</span>.<span class="name">errorString</span>());
    }
}</pre>
<p>If you are certain the QML file to be loaded is a local file, you could omit the <code>finishCreation()</code> function and call <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#createObject-method">createObject()</a> immediately:</p>
<pre class="js"><span class="keyword">function</span> <span class="name">createSpriteObjects</span>() {
    <span class="name">component</span> <span class="operator">=</span> <span class="name">Qt</span>.<span class="name">createComponent</span>(<span class="string">"Sprite.qml"</span>);
    <span class="name">sprite</span> <span class="operator">=</span> <span class="name">component</span>.<span class="name">createObject</span>(<span class="name">appWindow</span>, {"x": <span class="number">100</span>, "y": <span class="number">100</span>});

    <span class="keyword">if</span> (<span class="name">sprite</span> <span class="operator">==</span> <span class="number">null</span>) {
        <span class="comment">// Error Handling</span>
        <span class="name">console</span>.<span class="name">log</span>(<span class="string">"Error creating object"</span>);
    }
}</pre>
<p>Notice in both instances, <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#createObject-method">createObject()</a> is called with <code>appWindow</code>
 passed as the parent argument, since the dynamically created object is a
 visual (Qt Quick) object. The created object will become a child of the
 <code>appWindow</code> object in <code>main.qml</code>, and appear in the scene.</p>
<p>When using files with relative paths, the path should be relative to the file where <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createComponent-method">Qt.createComponent()</a> is executed.</p>
<p>To connect signals to (or receive signals from) dynamically created objects, use the signal <code>connect()</code> method. See <a href="http://doc.qt.io/qt-5/qtqml-syntax-signals.html#connecting-signals-to-methods-and-signals">Connecting Signals to Methods and Signals</a> for more information.</p>
<p>It is also possible to instantiate components without blocking via the <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#incubateObject-method">incubateObject()</a> function.</p>
<a name="creating-an-object-from-a-string-of-qml"></a>
<h3>Creating an Object from a String of QML</h3>
<p>If the QML is not defined until runtime, you can create a QML object from a string of QML using the <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createQmlObject-method">Qt.createQmlObject()</a> function, as in the following example:</p>
<pre class="qml">var <span class="name">newObject</span> = <span class="name">Qt</span>.<span class="name">createQmlObject</span>(<span class="string">'import QtQuick 2.0; Rectangle {color: "red"; width: 20; height: 20}'</span>,
    <span class="name">parentItem</span>, <span class="string">"dynamicSnippet1"</span>);</pre>
<p>The first argument is the string of QML to create. Just like in a new
 file, you will need to import any types you wish to use. The second 
argument is the parent object for the new object, and the parent 
argument semantics which apply to components are similarly applicable 
for <code>createQmlObject()</code>. The third argument is the file path to associate with the new object; this is used for error reporting.</p>
<p>If the string of QML imports files using relative paths, the path 
should be relative to the file in which the parent object (the second 
argument to the method) is defined.</p>
<a name="maintaining-dynamically-created-objects"></a>
<h2 id="maintaining-dynamically-created-objects">Maintaining Dynamically Created Objects</h2>
<p>When managing dynamically created objects, you must ensure the 
creation context outlives the created object. Otherwise, if the creation
 context is destroyed first, the bindings in the dynamic object will no 
longer work.</p>
<p>The actual creation context depends on how an object is created:</p>
<ul>
<li>If <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createComponent-method">Qt.createComponent()</a> is used, the creation context is the <a href="http://doc.qt.io/qt-5/qqmlcontext.html">QQmlContext</a> in which this method is called</li>
<li>If <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createQmlObject-method">Qt.createQmlObject()</a> is called, the creation context is the context of the parent object passed to this method</li>
<li>If a <code>Component{}</code> object is defined and <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#createObject-method">createObject()</a> or <a href="http://doc.qt.io/qt-5/qml-qtqml-component.html#incubateObject-method">incubateObject()</a> is called on that object, the creation context is the context in which the <code>Component</code> is defined</li>
</ul>
<p>Also, note that while dynamically created objects may be used the same as other objects, they do not have an id in QML.</p>
<a name="deleting-objects-dynamically"></a>
<h2 id="deleting-objects-dynamically">Deleting Objects Dynamically</h2>
<p>In many user interfaces, it is sufficient to set a visual object's 
opacity to 0 or to move the visual object off the screen instead of 
deleting it. If you have lots of dynamically created objects, however, 
you may receive a worthwhile performance benefit if unused objects are 
deleted.</p>
<p>Note that you should never manually delete objects that were dynamically created by convenience QML object factories (such as <a href="http://doc.qt.io/qt-5/qml-qtquick-loader.html">Loader</a> and <a href="http://doc.qt.io/qt-5/qml-qtquick-repeater.html">Repeater</a>). Also, you should avoid deleting objects that you did not dynamically create yourself.</p>
<p>Items can be deleted using the <code>destroy()</code> method. This 
method has an optional argument (which defaults to 0) that specifies the
 approximate delay in milliseconds before the object is to be destroyed.</p>
<p>Here is an example. The <code>application.qml</code> creates five instances of the <code>SelfDestroyingRect.qml</code> component. Each instance runs a <a href="http://doc.qt.io/qt-5/qml-qtquick-numberanimation.html">NumberAnimation</a>, and when the animation has finished, calls <code>destroy()</code> on its root object to destroy itself:</p>
<div class="table"><table class="generic">
 <tbody><tr class="odd" valign="top"><td><code>application.qml</code></td><td><code>SelfDestroyingRect.qml</code></td></tr>
<tr class="even" valign="top"><td><pre class="qml">import QtQuick 2.0

<span class="type"><a href="http://doc.qt.io/qt-5/qml-qtquick-item.html">Item</a></span> {
    <span class="name">id</span>: <span class="name">container</span>
    <span class="name">width</span>: <span class="number">500</span>; <span class="name">height</span>: <span class="number">100</span>

    <span class="name">Component</span>.onCompleted: {
        var <span class="name">component</span> = <span class="name">Qt</span>.<span class="name">createComponent</span>(<span class="string">"SelfDestroyingRect.qml"</span>);
        <span class="keyword">for</span> (<span class="keyword">var</span> <span class="name">i</span>=<span class="number">0</span>; <span class="name">i</span><span class="operator">&lt;</span><span class="number">5</span>; i++) {
            var <span class="name">object</span> = <span class="name">component</span>.<span class="name">createObject</span>(<span class="name">container</span>);
            <span class="name">object</span>.<span class="name">x</span> <span class="operator">=</span> (<span class="name">object</span>.<span class="name">width</span> <span class="operator">+</span> <span class="number">10</span>) <span class="operator">*</span> <span class="name">i</span>;
        }
    }
}</pre>
</td><td><pre class="qml">import QtQuick 2.0

<span class="type"><a href="http://doc.qt.io/qt-5/qml-qtquick-rectangle.html">Rectangle</a></span> {
    <span class="name">id</span>: <span class="name">rect</span>
    <span class="name">width</span>: <span class="number">80</span>; <span class="name">height</span>: <span class="number">80</span>
    <span class="name">color</span>: <span class="string">"red"</span>

    NumberAnimation on <span class="name">opacity</span> {
        <span class="name">to</span>: <span class="number">0</span>
        <span class="name">duration</span>: <span class="number">1000</span>

        <span class="name">onRunningChanged</span>: {
            <span class="keyword">if</span> (!<span class="name">running</span>) {
                <span class="name">console</span>.<span class="name">log</span>(<span class="string">"Destroying..."</span>)
                <span class="name">rect</span>.<span class="name">destroy</span>();
            }
        }
    }
}</pre>
</td></tr>
</tbody></table></div>
<p>Alternatively, the <code>application.qml</code> could have destroyed the created object by calling <code>object.destroy()</code>.</p>
<p>Note that it is safe to call destroy() on an object within that 
object. Objects are not destroyed the instant destroy() is called, but 
are cleaned up sometime between the end of that script block and the 
next frame (unless you specified a non-zero delay).</p>
<p>Note also that if a <code>SelfDestroyingRect</code> instance was created statically like this:</p>
<pre class="qml"><span class="type"><a href="http://doc.qt.io/qt-5/qml-qtquick-item.html">Item</a></span> {
    <span class="type">SelfDestroyingRect</span> {
        <span class="comment">// ...</span>
    }
}</pre>
<p>This would result in an error, since objects can only be dynamically destroyed if they were dynamically created.</p>
<p>Objects created with <a href="http://doc.qt.io/qt-5/qml-qtqml-qt.html#createQmlObject-method">Qt.createQmlObject()</a> can similarly be destroyed using <code>destroy()</code>:</p>
<pre class="qml">var <span class="name">newObject</span> = <span class="name">Qt</span>.<span class="name">createQmlObject</span>(<span class="string">'import QtQuick 2.0; Rectangle {color: "red"; width: 20; height: 20}'</span>,
    <span class="name">parentItem</span>, <span class="string">"dynamicSnippet1"</span>);
<span class="name">newObject</span>.<span class="name">destroy</span>(<span class="number">1000</span>);</pre>
</div>
<!-- @@@qtqml-javascript-dynamicobjectcreation.html -->
   </div>
   
</div>
</div>
</div>
</div>
</div>



<table class="gstl_50 gssb_c" style="width: 627px; display: none; top: 185px; position: absolute; left: 760px;" cellpadding="0" cellspacing="0"><tbody><tr><td class="gssb_f"></td><td style="width: 100%;" class="gssb_e"></td></tr></tbody></table><div style="left: 0px; top: 0px; position: absolute; width: 29px; height: 27px; border: medium none; margin: 0px; padding: 0px; z-index: 2147483647; display: none;" class="sbi_search" id="sbi_camera_button"></div></body></html>