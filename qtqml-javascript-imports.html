<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- imports.qdoc -->
  <title>Importing JavaScript Resources in QML | Qt QML 5.4</title>
  <link rel="stylesheet" type="text/css" href="style/online.css" />
  <link rel="shortcut icon" href="//d3hp9ud7yvwzy0.cloudfront.net/wp-content/themes/oneqt/images/favicon.ico.gzip" />
  
</head>
<body>
<div class="header" id="header">
<header id="navbar" class="">
        <div class="cookies_yum">
            <div>
                <img src="http://qt.io/wp-content/themes/oneqt/assets/images/cookie_small.png" align="left">
                <p class="close_button">
                    We bake cookies in your browser for a better experience.  Using this site means that you consent. <a href="//qt.io/terms-conditions/">Read More</a>
                </p>
                <a class="close"></a>
            </div>
        </div>
        <div class="container">
                <div class="navbar-header clearfix">
                    <a href="#" class="navbar-toggle">
                        <figure>
                            <span class="line"></span>
                        </figure>
                        <span>Menu</span>
                    </a>
                    <ul id="menuextras">
                        <li>
                            <a href="//qt.io/partners/" data-icon="">
                                <span>Partners</span>
                            </a>
                        </li>
                        <li>
                            <a target="_blank" href="http://blog.qt.io/" data-icon="">
                                <span>Blog</span>
                            </a>
                        </li>
                        <li class="sign-in">
                             <a data-icon="" class="signin" href="https://account.qt.io/login"><span>Sign in</span></a>
                        </li>
                    </ul>
                    <a href="http://qt.io/" class="navbar-oneQt retina" data-icon="">
                    </a>
                    <nav class="navbar-menu clearfix" role="navigation">
<ul id="mainmenu" class="menu"><li id="menu-item-18" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-18"><a href="http://www.qt.io/download/">Download</a></li>
<li id="menu-item-12207" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12207"><a href="http://www.qt.io/qt-for-device-creation/">Device Creation</a></li>
<li id="menu-item-12208" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12208"><a href="http://www.qt.io/application-development/">Application Development</a></li>
<li id="menu-item-1381" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1381"><a href="http://www.qt.io/services/">Services</a></li>
<li id="menu-item-20" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-20"><a href="http://www.qt.io/developers/">Developers</a></li>
</ul>                        <ul class="menuextraslanguages">
                            <li class="active dark"><a class="dark" href="http://qt.io/support/">EN</a></li><li class="dark"><a class="dark" href="http://qt.io/ru/">RU</a></li><li class="dark"><a class="dark" href="http://qt.io/zh-hans/">ZH</a></li></ul>
                    </nav>
                </div>
            </div>
<div class="big_bar account" style="">
    <div class="container">
        <h1><!-- mclude oneqt_no_cache_bMrsJxAh /wp-content/themes/oneqt/php_login_info_bottom_header.php --><!-- /mclude oneqt_no_cache_bMrsJxAh -->
            <div class="col-1 right big_bar_button account" style="margin-top:5px !important;"></div>
        </h1>
    </div>
</div>
</header>
</div>
<div class="main">
<div class="main-rounded">
<div class="navigationbar">
    <ul class="sub-navigation">
        <li><a href="http://wiki.qt.io/">Wiki</a></li>
        <li><a href="http://doc.qt.io/" class="active">Documentation</a></li>
        <li><a href="http://forum.qt.io/">Forum</a></li>
        <li><a href="https://bugreports.qt.io/">Bug Reports</a></li>
        <li><a href="https://codereview.qt-project.org/">Code Review</a></li>
    </ul>
    <div id="main_title_bar">
        <h1>Qt Documentation</h1>
        <div class="search_bar">
        <script>
            (function() {
                var cx = '003672281345882769388:1y4pftuq8so';
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
            })();
        </script>
        <gcse:searchbox-only resultsUrl="search-results.html"></gcse:searchbox-only>
    </div></div>
    <ul>
<li><a href="index.html">Qt 5.4</a></li>
<li><a href="qtqml-index.html">Qt QML</a></li>
<li>Importing JavaScript Resources in QML</li>
    </ul>
</div>
<div class="content">
    <div class="line">
        <div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#importing-a-javascript-resource-from-a-qml-document">Importing a JavaScript Resource from a QML Document</a></li>
<li class="level1"><a href="#imports-within-javascript-resources">Imports Within JavaScript Resources</a></li>
<li class="level2"><a href="#importing-a-javascript-resource-from-another-javascript-resource">Importing a JavaScript Resource from Another JavaScript Resource</a></li>
<li class="level2"><a href="#importing-a-qml-module-from-a-javascript-resource">Importing a QML Module from a JavaScript Resource</a></li>
<li class="level1"><a href="#including-a-javascript-resource-from-another-javascript-resource">Including a JavaScript Resource from Another JavaScript Resource</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<div class="context">
<h1 class="title">Importing JavaScript Resources in QML</h1>
<span class="subtitle"></span>
<!-- $$$qtqml-javascript-imports.html-description -->
<div class="descr"> <a name="details"></a>
<p><a href="qtqml-javascript-resources.html">JavaScript resources</a> may be imported by QML documents and other JavaScript resources. JavaScript resources may be imported via either relative or absolute URLs. In the case of a relative URL, the location is resolved relative to the location of the <a href="qtqml-documents-topic.html">QML document</a> or <a href="qtqml-javascript-resources.html">JavaScript Resource</a> that contains the import. If the script file is not accessible, an error will occur. If the JavaScript needs to be fetched from a network resource, the component's <a href="qqmlcomponent.html#status-prop">status</a> is set to &quot;Loading&quot; until the script has been downloaded.</p>
<p>JavaScript resources may also import QML modules and other JavaScript resources. The syntax of an import statement within a JavaScript resource differs slightly from an import statement within a QML document, which is documented thoroughly below.</p>
<a name="importing-a-javascript-resource-from-a-qml-document"></a>
<h2 id="importing-a-javascript-resource-from-a-qml-document">Importing a JavaScript Resource from a QML Document</h2>
<p>A QML document may import a JavaScript resource with the following syntax:</p>
<pre class="cpp">import <span class="string">&quot;ResourceURL&quot;</span> as Qualifier 限定符</pre>
<p>For example:</p>
<pre class="cpp">import <span class="string">&quot;jsfile.js&quot;</span> as Logic</pre>
<p>Imported JavaScript resources are always qualified using the &quot;as&quot; keyword. The qualifier for JavaScript resources must be unique, so there is always a one-to-one mapping between qualifiers and JavaScript files. (This also means qualifiers cannot be named the same as built-in JavaScript objects such as <code>Date</code> and <code>Math</code>).</p>
<p>The functions defined in an imported JavaScript file are available to objects defined in the importing QML document, via the <code>&quot;Qualifier.functionName(params)&quot;</code> syntax. Functions in JavaScript resources may take parameters whose type can be any of the supported QML basic types or object types, as well as normal JavaScript types. The normal <a href="qtqml-cppintegration-data.html">data type conversion rules</a> will apply to parameters and return values when calling such functions from QML.</p>
<a name="imports-within-javascript-resources"></a>
<h2 id="imports-within-javascript-resources">Imports Within JavaScript Resources</h2>
<p>In <code>QtQuick 2.0</code>, support has been added to allow JavaScript resources to import other JavaScript resources and also QML type namespaces using a variation of the standard QML import syntax (where all of the previously described rules and qualifications apply).</p>
<p>Due to the ability of a JavaScript resource to import another script or QML module in this fashion in <code>QtQuick 2.0</code>, some extra semantics are defined:</p>
<ul>
<li>a script with imports will not inherit imports from the QML document which imported it (so accessing Component.errorString will fail, for example)</li>
<li>a script without imports will inherit imports from the QML document which imported it (so accessing Component.errorString will succeed, for example)</li>
<li>a shared script (i.e&#x2e;, defined as .pragma library) does not inherit imports from any QML document even if it imports no other scripts or modules</li>
</ul>
<p>The first semantic is conceptually correct, given that a particular script might be imported by any number of QML files. The second semantic is retained for the purposes of backwards-compatibility. The third semantic remains unchanged from the current semantics for shared scripts, but is clarified here in respect to the newly possible case (where the script imports other scripts or modules).</p>
<a name="importing-a-javascript-resource-from-another-javascript-resource"></a>
<h3 >Importing a JavaScript Resource from Another JavaScript Resource</h3>
<p>A JavaScript resource may import another in the following fashion:</p>
<pre class="cpp"><span class="operator">.</span>import <span class="string">&quot;filename.js&quot;</span> as Qualifier</pre>
<p>For example:</p>
<pre class="cpp"><span class="operator">.</span>import <span class="string">&quot;factorial.js&quot;</span> as MathFunctions</pre>
<a name="importing-a-qml-module-from-a-javascript-resource"></a>
<h3 >Importing a QML Module from a JavaScript Resource</h3>
<p>A JavaScript resource may import a QML module in the following fashion:</p>
<pre class="cpp"><span class="operator">.</span>import TypeNamespace MajorVersion<span class="operator">.</span>MinorVersion as Qualifier</pre>
<p>For example:</p>
<pre class="cpp"><span class="operator">.</span>import <span class="type"><a href="qml-qtqml-qt.html">Qt</a></span><span class="operator">.</span>test <span class="number">1.0</span> as JsQtTest</pre>
<p>In particular, this may be useful in order to access functionality provided via a singleton type; see <a href="qqmlengine.html#qmlRegisterSingletonType">qmlRegisterSingletonType</a>() for more information.</p>
<p><b>Note: </b>The .import syntax doesn't work for scripts used in the <a href="qml-workerscript.html">WorkerScript</a></p><a name="including-a-javascript-resource-from-another-javascript-resource"></a>
<h2 id="including-a-javascript-resource-from-another-javascript-resource">Including a JavaScript Resource from Another JavaScript Resource</h2>
<p>When a JavaScript file is imported, it must be imported with a qualifier. The functions in that file are then accessible from the importing script via the qualifier (that is, as <code>Qualifier.functionName(params)</code>). Sometimes it is desirable to have the functions made available in the importing context without needing to qualify them, and in this circumstance the <a href="qml-qtqml-qt.html#include-method">Qt.include()</a> function may be used to include one JavaScript file from another. This copies all functions from the other file into the current file's namespace, but ignores all pragmas and imports defined in that file.</p>
<p>For example, the QML code below left calls <code>showCalculations()</code> in <code>script.js</code>, which in turn can call <code>factorial()</code> in <code>factorial.js</code>, as it has included <code>factorial.js</code> using <a href="qml-qtqml-qt.html#include-method">Qt.include()</a>.</p>
<div class="table"><table class="generic">
 <tr valign="top" class="odd"><td  rowspan="2"><pre class="qml">import QtQuick 2.0
import &quot;script.js&quot; as MyScript

<span class="type"><a href="qml-qtquick-item.html">Item</a></span> {
    <span class="name">width</span>: <span class="number">100</span>; <span class="name">height</span>: <span class="number">100</span>

    <span class="type"><a href="qml-qtquick-mousearea.html">MouseArea</a></span> {
        <span class="name">anchors</span>.fill: <span class="name">parent</span>
        <span class="name">onClicked</span>: {
            <span class="name">MyScript</span>.<span class="name">showCalculations</span>(<span class="number">10</span>)
            <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;Call factorial() from QML:&quot;</span>,
                <span class="name">MyScript</span>.<span class="name">factorial</span>(<span class="number">10</span>))
        }
    }
}</pre>
</td><td ><pre class="js"><span class="comment">// script.js</span>
<span class="name">Qt</span>.<span class="name">include</span>(<span class="string">&quot;factorial.js&quot;</span>)

<span class="keyword">function</span> <span class="name">showCalculations</span>(<span class="name">value</span>) {
    <span class="name">console</span>.<span class="name">log</span>(<span class="string">&quot;Call factorial() from script.js:&quot;</span>,
        <span class="name">factorial</span>(<span class="name">value</span>));
}</pre>
</td></tr>
<tr valign="top" class="even"><td ><pre class="js"><span class="comment">// factorial.js</span>
<span class="keyword">function</span> <span class="name">factorial</span>(<span class="name">a</span>) {
    <span class="name">a</span> <span class="operator">=</span> <span class="name">parseInt</span>(<span class="name">a</span>);
    <span class="keyword">if</span> (<span class="name">a</span> <span class="operator">&lt;=</span> <span class="number">0</span>)
        <span class="keyword">return</span> <span class="number">1</span>;
    <span class="keyword">else</span>
        <span class="keyword">return</span> <span class="name">a</span> <span class="operator">*</span> <span class="name">factorial</span>(<span class="name">a</span> <span class="operator">-</span> <span class="number">1</span>);
}</pre>
</td></tr>
</table></div>
<p>Notice that calling <a href="qml-qtqml-qt.html#include-method">Qt.include()</a> copies all functions from <code>factorial.js</code> into the <code>MyScript</code> namespace, which means the QML component can also access <code>factorial()</code> directly as <code>MyScript.factorial()</code>.</p>
</div>
<!-- @@@qtqml-javascript-imports.html -->
   </div>
   <p class="copy-notice">
   <acronym title="Copyright">&copy;</acronym> 2015 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<footer id="footerbar">
    <div class="footer-main">
            <div class="container clearfix">
                <nav class="footer-nav clearfix">
                    <div class="menu-footer-menu-container"><ul id="menu-footer-menu" class="menu"><li id="menu-item-1350" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1350"><a href="http://qt.io/about-us/">About us</a>
<ul class="sub-menu">
    <li id="menu-item-1353" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1353"><a href="http://qt.io/events/">Training &amp; Events</a></li>
    <li id="menu-item-1596" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1596"><a href="http://qt.io/news/">News</a></li>
    <li id="menu-item-1354" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1354"><a href="http://qt.io/resource-center/">Resource Center</a></li>
    <li id="menu-item-1352" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1352"><a href="http://qt.io/partners/">Partners</a></li>
    <li id="menu-item-1349" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1349"><a href="http://qt.io/careers/">Careers</a></li>
    <li id="menu-item-11676" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11676"><a href="http://qt.io/locations/">Locations</a></li>
</ul>
</li>
<li id="menu-item-1355" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1355"><a href="http://qt.io/product/">Product</a>
<ul class="sub-menu">
    <li id="menu-item-1358" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1358"><a href="http://qt.io/qt-framework/">Qt Framework</a></li>
    <li id="menu-item-1356" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1356"><a href="http://qt.io/qt-features/">Qt Features</a></li>
    <li id="menu-item-1359" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1359"><a href="http://qt.io/qt-quick/">Qt Quick</a></li>
    <li id="menu-item-1357" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1357"><a href="http://qt.io/qt-for-device-creation/">Qt for Device Creation</a></li>
    <li id="menu-item-10159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10159"><a href="http://qt.io/mobile-app-development/">Qt for Mobile Apps</a></li>
    <li id="menu-item-12576" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12576"><a href="http://qt.io/qt-in-use/">Qt in Use</a></li>
</ul>
</li>
<li id="menu-item-33" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-33"><a href="http://qt.io/developers/">Developers</a>
<ul class="sub-menu">
    <li id="menu-item-1365" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1365"><a href="http://doc.qt.io/">Documentation</a></li>
    <li id="menu-item-1364" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1364"><a href="http://doc.qt.io/qt-5/qtexamplesandtutorials.html">Examples &amp; Tutorials</a></li>
    <li id="menu-item-1363" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1363"><a href="http://doc.qt.io/qt-5/topics-app-development.html">Tools</a></li>
    <li id="menu-item-1361" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1361"><a href="http://wiki.qt.io/">Wiki</a></li>
    <li id="menu-item-1360" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1360"><a href="http://forum.qt.io/">Forums</a></li>
    <li id="menu-item-1362" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1362"><a href="http://wiki.qt.io/Qt_Contribution_Guidelines">Contribute to Qt</a></li>
</ul>
</li>
<li id="menu-item-1347" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-1347"><a href="http://qt.io/services/">Services</a>
<ul class="sub-menu">
    <li id="menu-item-32" class="menu-item menu-item-type-post_type menu-item-object-page page_item page-item-14 menu-item-32"><a href="http://qt.io/support/">Support</a></li>
    <li id="menu-item-4028" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4028"><a href="http://qt.io/services-technology-evaluation/">Technology Evaluation</a></li>
    <li id="menu-item-4027" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4027"><a href="http://qt.io/services-proof-of-concept/">Proof of Concept</a></li>
    <li id="menu-item-4026" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4026"><a href="http://qt.io/services-design-implementation/">Design &amp; Implementation</a></li>
    <li id="menu-item-4025" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4025"><a href="http://qt.io/services-productization/">Productization</a></li>
    <li id="menu-item-5124" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5124"><a href="https://qtcloudservices.com/">Qt Cloud Services</a></li>
</ul>
</li>
<li id="menu-item-1403" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1403"><a href="http://qt.io/download/">Download</a>
<ul class="sub-menu">
    <li id="menu-item-11677" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11677"><a href="http://qt.io/download">Free 30-Day Trial</a></li>
    <li id="menu-item-1982" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1982"><a href="http://qt.io/buy-enterprise-step-2/">Enterprise</a></li>
    <li id="menu-item-1985" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1985"><a href="http://qt.io/buy-professional-step-2/">Professional</a></li>
    <li id="menu-item-3346" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3346"><a href="http://qt.io/buy-indiemobile-step-2/">Indie Mobile</a></li>
    <li id="menu-item-3343" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3343"><a href="http://qt.io/download-open-source/">Community</a></li>
    <li id="menu-item-1415" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1415"><a href="http://qt.io/terms-conditions/">Legal | Terms &amp; Conditions</a></li>
</ul>
</li>
</ul></div></nav>
<a href="http://qt.io/about-us/" target="_blank" class="theqtcompany"></a>
    <div class="footer-social clearfix">
        <div class="facebook">
            <iframe scrolling="no" frameborder="0" allowTransparency="true" src="//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fqtbydigia&amp;width&amp;layout=button_count&amp;action=like&amp;show_faces=true&amp;share=false&amp;height=21" style="border:none;overflow:hidden;height:21px;"></iframe>
        </div>
        <div class="twitter">
            <iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="http://platform.twitter.com/widgets/follow_button.33b190ea0cba008796487b65df7f6d8e.en.html#_=1414403615717&amp;id=twitter-widget-0&amp;lang=en&amp;screen_name=qtproject&amp;show_count=true&amp;show_screen_name=false&amp;size=m" class="twitter-follow-button twitter-follow-button" title="Twitter Follow Button" data-twttr-rendered="true" style="width: 160px; height: 20px;"></iframe>
        </div>
    </div>
</div>
</div>
<div class="disclaimer">
<div class="container clearfix no_discs">
    <ul id="menu-footer-submenu" class="right clearfix"><li id="menu-item-1795" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1795"><a title="Sign into your account." href="https://account.qt.io/login">Sign In</a></li>
      <li id="menu-item-10375" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10375"><a href="mailto:feedback@theqtcompany.com?Subject=Feedback%20about%20doc.qt.io%20site">Feedback</a></li>
      <li id="menu-item-1494" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1494"><a href="http://qt.io/contact-us/">Contact us</a></li>
      <li id="menu-item-4472" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4472"><a href="http://qt.io/about-us/">© 2015 The Qt Company</a></li>
    </ul>
</div>
</div>
</footer>
</div>
</body>
</html>
